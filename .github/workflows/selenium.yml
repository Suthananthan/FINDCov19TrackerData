name: selenium

on:
  push:
    branches:
      - selenium

jobs:
  build:
    runs-on: ${{ matrix.operating-system }}
    services:
      firefox:
        image: selenium/standalone-firefox:4.0
        ports: ["4444:4444"]
    env:
      HUB_URL: "http://localhost:4444/wd/hub"
      APP_HOST: "http://localhost:4000"
    strategy:
      matrix:
        operating-system: [ubuntu-latest]
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v1.4.4
        with:
          node-version: '12'
      - run: npm install -g

      - name: run Selenium
        run: |
          /home/runner/work/FINDCov19TrackerData/FINDCov19TrackerData/node_modules/.bin/selenium-side-runner -c "browserName=firefox" -w 2 manual/scrap_tests_data.side
