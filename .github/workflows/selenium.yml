name: selenium

on:
  push:
    branches:
      - selenium

jobs:
  build:
    runs-on: ${{ matrix.operating-system }}
    services:
      chrome:
        # see https://github.com/SeleniumHQ/docker-selenium
        # image: selenium/standalone-firefox:4.0
        image: selenium/standalone-chrome:4.0
        ports: ["4444:4444"]
    strategy:
      matrix:
        operating-system: [ubuntu-latest]
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v1.4.4
        with:
          node-version: '14'
      - run: npm install -g

      - name: run Selenium
        run: |
          /home/runner/work/FINDCov19TrackerData/FINDCov19TrackerData/node_modules/.bin/selenium-side-runner -c "goog:chromeOptions.args=[disable-infobars, headless]" "browserName=chrome" --server http://localhost:4444/wd/hub -w 2 manual/scrap_tests_data_subset.side
